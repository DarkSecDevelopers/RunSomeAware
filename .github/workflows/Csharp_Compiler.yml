name: Csharp Compiler csc.exe

on: [push]
env:
  csc: C:/Windows/Microsoft.NET/Framework/v2.0.50727/csc.exe
  
jobs:
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v2
    
    - name: Build
      working-directory: ${{env.GITHUB_WORKSPACE}}
      #run: cmd.exe "compiler_v2.0.bat" && cd "Examples" && cmd.exe "compiler_Assembly_Changer.bat" && cmd.exe "compiler_Icon.bat" && cmd.exe "compiler_Optimize.bat" && cmd.exe "compiler_Run_As_Admin.bat" && cd..
      run: ${{env.csc}} RunSomeAware.cs && ${{env.csc}} RunSomeAware.cs Examples\Resources\AssemblyInfo.cs /out:Assembly_Changer.exe && ${{env.csc}} RunSomeAware.cs -win32icon:Examples\Resources/icon.ico /out:Icon.exe && ${{env.csc}} RunSomeAware.cs -optimize+ /out:Optimize.exe && ${{env.csc}} RunSomeAware.cs -win32manifest:"Examples\Resources/RunSomeAware.manifest" /out:Run_As_Admin.exe 

    - name: Upload Artifact
      uses: actions/upload-artifact@v1.0.0
      with:
       name: Releases
       path: ../RunSomeAware
